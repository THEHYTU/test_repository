# C复习

## 一看图说话部分

### 1、从源代码到exe



 [![1.jpg](https://i.postimg.cc/Qtk8BTp5/1.jpg)](https://postimg.cc/1nXh2475)

（1）从源代码到exe需要经历5个时期

（2）预处理期：

\- 头文件的展开（#include）;
\- 宏替换（#define）;
\- 条件编译的处理（#if #endif等）；
\- 去注释;
将.c文件变为预处理后的.i临时文件

编译期：

编译器将高级语言编译成汇编语言

\- 词法分析;
\- 语义分析；
\- 语法分析；
\- 符号汇总；
将对每个.i文件单独转化为.s文件，也是对每个.i文件进行单独编译

汇编期：汇编器将汇编语言编程变成机器语言

连接期：连接器将库函数(#include<头文件>)与机器语言进行连接

执行期：生成.exe文件

（3）出现语法错误是编译期

（4）产生LINK错误是连接期出了问题，可能是头文件也可能是main函数有问题

### 2、基本数据类型

[![2.jpg](https://i.postimg.cc/3r1rY2rQ/2.jpg)](https://postimg.cc/Yj4BxGmd)

（1）基本数据类型包括了两大类，分别是数值类型和字符类型，其中数值类型又分为整型和浮点型。不算无符号类型在内的话，整型包括了短整型，整型，长整型，长长整型。浮点型包括单精度，双精度和多精度浮点类型。

(2)[![image.jpg](https://i.postimg.cc/RhZBNbC5/image.jpg)](https://postimg.cc/zb6MQ7R0)

(3)基本数据类型的存储原理包括了定点存储和浮点存储。定点存储是的存储方式是原码反码补码，浮点存储是小数点左边除二区域，小数点右边乘二取余

（4）不同字面值的常量后缀与前缀

[![image.png](https://i.postimg.cc/J0nf1DKR/image.png)](https://postimg.cc/gXCSs0f7)

### 3、字符在屏幕上显示的原理

[![3.jpg](https://i.postimg.cc/Gh6WCpD1/3.jpg)](https://postimg.cc/9rt8PC1x)

（1）字符型的本质是影像编码，一个整型数，根据预先指定好的编码规则，不同的整型数对应不同的字符。它的存储原理是定点存储，占一个字节

（2）字符型常量的表示方式 ’A' 十进制 八进制 十六进制

（3）取消含义或者赋予含义，如 /101如/n如/#

(4)简单密码判断，联系IM中密码的设置，而实际上更多的应该是正则表达式

### 4、溢出现象

[![4.jpg](https://i.postimg.cc/CxbpV2VL/4.jpg)](https://postimg.cc/MnZF7dTh)

(1)为什么-1的二进制是全一

这里的全一说的是补码，因为整型存储是定点存储，由于第一位符号位，而其他位经过原码反码补码最后也变成了全1

（2）什么是整型的溢出现象

当位数不够的时候进位后的最高位舍弃时就是

（3）为什么有符号最大值+1

### 5、自动类型转化规律

[![5.jpg](https://i.postimg.cc/1tnLJ7MQ/5.jpg)](https://postimg.cc/0MvWNfLW)

（1）基本数据类型转化包括了强转和自转，自转是低字节的遇到高字节的自动升级或者定点存储遇到浮点存储变为浮点存储

（2）3+4.f+5LL是float

(3) char -1/2=0;原因，正常来说-1/2应该是-0.5，但是计算结果需要的是定点存储，所以小于0的部分被舍弃了。而另外一种普遍意义上的说法是，-1的二进制是全1，右移也是全一，即右移的结果还是-1，而我们的类型是char，所以舍弃了小数部分。或者说，我们先不看符号位，得到1的二进制除二，结果是0，然后再补上符号位，还是0

（4）无符号-1/2=127

-1的二进制是127，除二过后由于不用补符号位，变成了01111111，即127

### 6、短路问题

[![6.jpg](https://i.postimg.cc/0QYCkpyS/6.jpg)](https://postimg.cc/TLPbQ5m2)

比较简单跳过

### 7、指针变量类型的作用

[![7.jpg](https://i.postimg.cc/Hk057pgG/7.jpg)](https://postimg.cc/dh1Dbc3n)

（1）指针变量的空间大小只与操作系统有关，与指针类型无关。

原因，指针是通过地址寻址然后找到数据，而32位操作系统的地址总线是32位，一个字节是8位二进制，所以32位操作系统的指针大小是4

（2）指针保留的是所指向的空间的地址

（3）内存编号的特征：连续性，唯一性，从小到大。因为字节是最小的存储单位，所以每个字节都有自己的地址编号，在取地址时，取的是变量所占字节的最小地址编号，也就是首地址。

（4）指针变量类型的两大作用：

（1通过地址结合类型获得空间的使用权的大小（2偏移指针时根据指针类型决定偏移量

### 8、多级指针

[![8.jpg](https://i.postimg.cc/TPRbVZdK/8.jpg)](https://postimg.cc/BjVts713)

（1）多级指针就是指向指针的指针，一般最多三级

（2）先通过\*找到上一级指针的地址，获取上一级指针指向空间的地址，再通过\*继续寻找,直到最后找到真正的空间获取数据内容

（3）与操作系统有关，与指针的数目无关和级别无关

### 扩展：指针与引用的区别

1.指针可以不初始化，但是获得的是野指针，引用必须初始化

2.有多级指针没有多级引用

3.指针的指向对象可以随时更改，引用的对象一旦确定就不能再更改

4.有空指针没有空引用

5.指针额外申请空间，引用相当于对原数据起了一个别名，不额外申请空间

### 9.指针类型的扩展：指针数组

[![9.jpg](https://i.postimg.cc/BvMKMMbM/9.jpg)](https://postimg.cc/xkN8dGKz)

1.2.指针数组是值一个数组内的成员全部都是指针

3.指针数组如何访问数据？

通过指针数组名找到某个成员，对每个成员加*找到地址得到内容

### 10、指针类型的扩展：数组指针

[![10.jpg](https://i.postimg.cc/Tw1WSgWG/10.jpg)](https://postimg.cc/PpGxvL4F)

1.指针数组是一个指针指向的是一个数组

2.数组指针是数组的成员全都是指针的数组

3.数组指针与基本类型指针的区别是数组指针指向的对象是多个的，而基本类型的指针的指向地址只有一个，数组指针的指向是先获得数组的首地址，然后根据数组内成员的下标进行内部偏移

4.数组指针如何访问数组成员空间，以一位数组指针位例子，假设某一位数组指针是\*pa,那么我们是先找到pa的地址，得到数组的空间然后进行内部偏移，对于数组指针我们有“[]"=\*\(\指针名+偏移成员的数目\)，如果是\*pa[2]它相当于\*\*(pa+2)
